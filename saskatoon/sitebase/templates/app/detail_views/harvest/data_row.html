{% load i18n %}
{% load static %}
<tr>
    <td>
        <b>{{ r.person.name }}</b><br>
        {% if r.person.email %}
            <a href="mailto:{{ r.person.email }}">
                {{ r.person.email }}
            </a>
            <br>
        {% endif %}
        {{ r.person.phone|default:"" }}
    </td>
    <td style="text-align: center;">{{ r.number_of_pickers }}</td>
    <td>
        {% if r.status == 'pending' %}
            <i class="fa fa-question text-warning"></i>
            {% trans "Pending" %}
        {% elif r.status == 'accepted' %}
            <i class="fa fa-check text-success"></i>
            {% trans "Accepted" %}
        {% elif r.status == 'declined' %}
            <i class="fa fa-times text-danger"></i>
            {% trans "Declined" %}
        {% elif r.status == 'cancelled' %}
            <i class="fa fa-times text-muted"></i>
            {% trans "Cancelled" %}
        {% else %}
            <i class="fa fa-times text-muted"></i>
            {% trans "Obsolete" %}
        {% endif %}
    </td>
    <td>{{ r.date_created }}</td>
    <td>
        {% if r.date_status_updated %}
            {{ r.date_status_updated }}
        {% endif %}
    </td>
    <td>
        {% with r.person.get_harvests_as_volunteer.accepted.count as success_count %}
        {% if success_count > 0 %}
            <i class="fa fa-thumbs-o-up text-success"></i>
            {{ success_count }}
            {% trans "harvest(s)" %}
        {% else %}
            {% trans "First time!" %}
        {% endif %}
        {% endwith %}
    </td>
    <td>
        {% with r.person.harvests_as_volunteer.declined.count as reject_count %}
        {% if reject_count > 0 %}
        <i class="fa fa-frown-o text-danger"></i>
        {% endif %}
        {{ reject_count }}
        {% endwith %}
    </td>
    <td>{{ r.comment }}</td>
    <td>{{ r.notes_from_pickleader }}</td>
    <td style="text-align: center;">
        <a href="{% url 'participation-update' r.id %}">
            <i class="fa fa-pencil"></i>
        </a>
    </td>
</tr>
